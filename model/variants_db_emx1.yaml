#'////////////////////////////////////////////////////////////////////////////
#' FILE: ucu_emx1.yaml
#' AUTHOR: David Ruvolo
#' CREATED: 2022-02-10
#' MODIFIED: 2022-02-10
#' PURPOSE: VariantDB EMX as YAML-EMX1
#' STATUS: experimental
#' PACKAGES: emxconvert (see `src/index.py`)
#' COMMENTS: NA
#'////////////////////////////////////////////////////////////////////////////

# define package 
name: variantdb
label: Variant Database
version: v2.0.0
date: 2022-02-10


# set defaults
defaults:
  aggregateable: false
  dataType: string
  idAttribute: false
  labelAttribute: false
  lookupAttribute: false
  nillable: true
  readOnly: false
  unique: false
  visible: true  

# Define primary tables and then reference entities
entities:
  
  # @name variantdb_variant
  - name: variant
    label: Classified/Curated Variants
    attributes:
    
  # @name variantdb_allelinfo
  - name: allelinfo
    label: Extra Allel Info
    description: Depth and frequency
    attributes:    
      - name: id
        label: allel identifier	
        description: UMCGnr_#CHROM-start-REF-ALT
        dataType: string
        aggregateable: true
        labelAttribute: true
        lookupAttribute: true
        nillable: false
        readOnly: true
        unique: true
        tags: http://purl.obolibrary.org/obo/NCIT_C25364
        
      - name: freqAllel1
        label: Allele Frequency Allele 1
        dataType: decimal
        tags: http://purl.obolibrary.org/obo/NCIT_C154665
    
      - name: freqAllel2
        label: Allele Frequency Allele 2
        dataType: decimal
        tags: http://purl.obolibrary.org/obo/NCIT_C154665
        
      # TODO: is this the correct tag?
      - name: depthAllel1
        label: Allelic Depth Allele 1
        dataType: int
        tags: http://purl.obolibrary.org/obo/NCIT_C164666
        
      # TODO: is this the correct tag?
      - name: depthAllel2
        label: Allelic Depth Allele 2
        dataType: int
        tags: http://purl.obolibrary.org/obo/NCIT_C164666
        
      - name: chromosomeType
        label: Chromosome Type
        dataType: enum
        nillable: false
        lookupAttribute: true
        enumOptions: Autosomal,Dominant,X-linked,Y-linked,Codominant,Mitchondrial,Inherited_Unresolved,NA

      # TODO: is this the correct tag? 
      - name: mother
        label: Mother AllelInfo
        dataType: compound
        tags: http://purl.obolibrary.org/obo/GENO_0000878
        
      - name: MotherDepth
        label: Mother Read Depth
        dataType: int
        partOfAttribute: mother
        
      - name: MotherfreqAllel1
        label: Mother Allele Frequency Allele 1
        dataType: decimal
        partOfAttribute: mother

      - name: MotherfreqAllel2
        label: Mother Allele Frequency Allele 2
        dataType: decimal
        partOfAttribute: mother
        
      - name: MotherdepthAllel1
        label: Mother Allelic Depth Allele 1
        dataType: int
        partOfAttribute: mother
        
      - name: MotherdepthAllel2
        label: Mother Allelic Depth Allele 2
        dataType: int
        partOfAttribute: mother
        
      # TODO: is this the correct tag?
      - name: father
        label: Father AllelInfo
        dataType: compound
        tags: http://purl.obolibrary.org/obo/GENO_0000879
        
      - name: FatherDepth
        label: Father Read Depth
        dataType: int
        partOfAttribute: father
        
      - name: FatherfreqAllel1
        label: Father Allele Frequency Allele 1
        dataType: decimal
        partOfAttribute: father

      - name: FatherfreqAllel2
        label: Father Allele Frequency Allele 2
        dataType: decimal
        partOfAttribute: father
        
      - name: FatherdepthAllel1
        label: Father Allelic Depth Allele 1
        dataType: int
        partOfAttribute: father
        
      - name: FatherdepthAllel2
        label: Father Allelic Depth Allele 2
        dataType: int
        partOfAttribute: father

  # @name variantdb_classification
  # @description clinical classification
  - name: classification
    label: Clinical Classification (1,2,3,4,5,6)
    tags: http://purl.obolibrary.org/obo/NCIT_C118969
    attributes:
      - name: identifier
        dataType: string
        idAttribute: true
        lookupAttribute: true
        nillable: false
        tags: http://purl.obolibrary.org/obo/NCIT_C25364

      # @name: description
      # tag is for term 'description'
      - name: omschrijving
        label: Classification
        description: Classifaction ADLAS
        labelAttribute: true
        lookupAttribute: true
        tags: http://purl.obolibrary.org/obo/NCIT_C25365
      
    data:
      - identifier: 1
        omschrijving: Benign
      - identifier: 2
        omschrijving: Likely Benign
      - identifier: 3
        omschrijving: Variant of Uncertain Significance (VUS)
      - identifier: 4
        omschrijving: Likely Pathogenic
      - identifier: 5
        omschrijving: Pathogenic
      - identifier: 6
        omschrijving: Ik weet niet of dit de goede omschrijvingen zijn??
    
  # @name variantdb_link
  - name: link
    attributes:
      - name: id
        idAttribute: true
        nillable: false
        readOnly: true
        visible: false
        unique: true
        tags: http://purl.obolibrary.org/obo/NCIT_C25364

      - name: link
        dataType: hyperlink
        nillable: false
        labelAttribute: true
        lookupAttribute: true
        tags: http://purl.obolibrary.org/obo/NCIT_C47919
  
  # @name variantdb_omimInheritance
  - name: omimInheritance
    attributes:
      - name: id
        idAttribute: true
        lookupAttribute: true
        nillable: false
        readOnly: true
        unique: true
        tags: http://purl.obolibrary.org/obo/NCIT_C25364
        
      - name: label
        lookupAttribute: true
        labelAttribute: true
        nillable: false
        readOnly: true
        unique: true
        tags: http://purl.obolibrary.org/obo/NCIT_C45561
    
    data:
      - id: 1
        label: AD
      - id: 2
        label: AR
      - id: 3
        label: AD/AR
      - id: 4
        label: XL 
    
  # @name variantdb_person
  - name: person
    label: Person
    description: researcher or contactperson involved in the study and/or affliated with organisation
    tags: http://purl.obolibrary.org/obo/NCIT_C25461, http://purl.obolibrary.org/obo/NCIT_C25936
    attributes:
    
      - name: identifier
        description: identifier
        nillable: false
        idAttribute: true
        lookupAttribute: true
        tags: http://purl.obolibrary.org/obo/NCIT_C25364  
        
      - name: fullName
        label: Full Name
        description: full name. E.g. Morris Swertz
        tags: http://purl.obolibrary.org/obo/GSSO_001755
        
      - name: alternativeIdentifier
        label: Alternative ID
        description: alternative identifier. E.g. ORCID:1234
        tags: http://purl.obolibrary.org/obo/NCIT_C90353
        
      - name: firstName
        tags: http://purl.obolibrary.org/obo/NCIT_C40974
        
      - name: middleInitials
        label: Initials
        description: middle initiatials. E.g. A.
        tags: http://purl.obolibrary.org/obo/NCIT_C166237
         
      - name: lastName
        label: Lastname
        description: last name. E.g. Swertz
        tags: http://purl.obolibrary.org/obo/NCIT_C40975
        
      - name: email
        label: Email
        description: email address. E.g. m.a.swertz@rug.nl
        nillable: false
        labelAttribute: true
        tags: http://purl.obolibrary.org/obo/NCIT_C42775
        
    
  # @name variantdb_zygosity
  - name: zygosity
    label: Zygosity
    description: An allelic state that describes the degree of similarity of features at a particular location in the genome (i.e. whether the alleles or haplotypes are the same or different).
    tags: http://purl.obolibrary.org/obo/GENO_0000133
    attributes:
      - name: id
        idAttribute: true
        lookupAttribute: true
        nillable: false
        readOnly: true
        unique: true
        tags: http://purl.obolibrary.org/obo/NCIT_C25364
        
      - name: label
        lookupAttribute: true
        labelAttribute: true
        nillable: false
        readOnly: true
        unique: true
        tags: http://purl.obolibrary.org/obo/NCIT_C45561
      
      - name: codesystem
        tags: http://purl.obolibrary.org/obo/NCIT_C70895
        description: A systematized collection of concepts that define corresponding codes.
      
      - name: code
        tags: http://purl.obolibrary.org/obo/NCIT_C25162
        description: A symbol or combination of symbols which is assigned to the members of a collection.
      
      - name: iri
        dataType: hyperlink
        tags: http://purl.obolibrary.org/obo/NCIT_C165071
        description: A unique symbol that establishes identity of the resource.
      
    data:
      - id: 1
        label: Heterozygoot
        codesystem: GENO
        code: 0000135
        iri: http://purl.obolibrary.org/obo/GENO_0000135
        
      - id: 2
        label: Homozygoot
        codesystem: GENO
        code: 0000136
        iri: http://purl.obolibrary.org/obo/GENO_0000136
        
      - id: 3
        label: Hemizygoot
        codesystem: GENO
        code: 0000134
        iri: http://purl.obolibrary.org/obo/GENO_0000134
        
      - id: 4
        label: Other
        codesystem: GENO
        code: 0000137
        iri: http://purl.obolibrary.org/obo/GENO_0000137